'use client'

import { Dispatch, SetStateAction } from 'react'
import { VideoGetWatchLaterSort } from '@mtobdvlb/shared-types'
import { Button, HoverCard, HoverCardContent, HoverCardTrigger, Separator } from '@/components'
import { cn } from '@/lib'

const WatchLaterTitle = ({
  sort,
  setSort,
  total,
}: {
  total?: number
  setSort: Dispatch<SetStateAction<VideoGetWatchLaterSort>>
  sort: VideoGetWatchLaterSort
}) => {
  return (
    <div
      className={
        'text-text1 mx-auto flex max-w-[calc(1080px+2*100px)] items-center justify-between px-25 text-[28px] leading-10 font-semibold'
      }
    >
      <div className={'flex items-center'}>
        <svg
          xmlns='http://www.w3.org/2000/svg'
          viewBox='0 0 32 32'
          width='32'
          height='32'
          className={'mr-2 size-8'}
        >
          <path
            d='M16 4.74968C9.78681 4.74968 4.750023333333333 9.786476666666665 4.750023333333333 15.999733333333333C4.750023333333333 22.212899999999998 9.78681 27.24973333333333 16 27.24973333333333C19.106216666666665 27.24973333333333 21.917133333333332 25.991816666666665 23.95375 23.955866666666665C24.24668333333333 23.663066666666666 24.721466666666664 23.663083333333333 25.0144 23.956016666666663C25.307199999999998 24.248966666666664 25.307066666666664 24.723866666666666 25.01423333333333 25.016683333333333C22.7078 27.322316666666666 19.519916666666667 28.74973333333333 16 28.74973333333333C8.958386666666666 28.74973333333333 3.2500233333333335 23.04135 3.2500233333333335 15.999733333333333C3.2500233333333335 8.958043333333332 8.958386666666666 3.24968 16 3.24968C23.04161666666667 3.24968 28.75 8.958043333333332 28.75 15.999733333333333C28.75 16.47798333333333 28.72368333333333 16.95038333333333 28.672283333333333 17.415416666666665C28.6267 17.827166666666663 28.256049999999995 18.124016666666666 27.84443333333333 18.078433333333333C27.4327 18.032966666666667 27.13583333333333 17.662316666666666 27.1813 17.25058333333333C27.226699999999997 16.84015 27.25 16.4228 27.25 15.999733333333333C27.25 9.786476666666665 22.213183333333333 4.74968 16 4.74968z'
            fill='currentColor'
          ></path>
          <path
            d='M24.803066666666666 14.802666666666667C25.095883333333333 14.509733333333333 25.57078333333333 14.509733333333333 25.863716666666665 14.802666666666667L28 16.93895L30.1364 14.802666666666667C30.429216666666665 14.509733333333333 30.904116666666667 14.509733333333333 31.197049999999997 14.802666666666667C31.489866666666664 15.095616666666666 31.489866666666664 15.570383333333332 31.197049999999997 15.863333333333333L28.766 18.294266666666665C28.34303333333333 18.717333333333332 27.657083333333333 18.717333333333332 27.233999999999998 18.294266666666665L24.803066666666666 15.863333333333333C24.510133333333332 15.570383333333332 24.510133333333332 15.095616666666666 24.803066666666666 14.802666666666667z'
            fill='currentColor'
          ></path>
          <path
            d='M19.83223333333333 14.89335C20.683899999999998 15.385 20.683899999999998 16.614166666666666 19.83223333333333 17.105816666666666L15.039966666666666 19.872716666666665C14.188416666666665 20.364366666666665 13.12385 19.74973333333333 13.12385 18.766416666666665L13.12385 13.232789999999998C13.12385 12.249416666666665 14.188416666666665 11.634813333333334 15.039966666666666 12.1265L19.83223333333333 14.89335z'
            fill='currentColor'
          ></path>
        </svg>
        稍后再看
        <div className={'text-text2 ml-1 text-[19px]'}>· {total}</div>
      </div>
      <div className={'flex items-center'}>
        <HoverCard closeDelay={100} openDelay={100}>
          <HoverCardTrigger asChild>
            <div className={'flex'}>
              <Button
                className={
                  'text-text1 in-data-[state=open]:bg-graph_bg_thick bg-bg1_float px-xsm text-4 flex h-[34px] min-w-25 cursor-pointer items-center justify-around rounded-md border-none pr-0 leading-[1] font-normal whitespace-nowrap transition-all duration-200 select-none'
                }
              >
                {sort === 'latest' ? '最近添加' : '最先添加'}
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  viewBox='0 0 12 12'
                  width='12'
                  height='12'
                  className={'mr-2 size-3'}
                >
                  <path
                    d='M5.91165 7.527550000000001C5.9604 7.478800000000001 6.0396 7.478800000000001 6.08835 7.527550000000001L2.405335 3.84452C2.1124300000000003 3.5516249999999996 1.6375599999999997 3.5516249999999996 1.344665 3.84452C1.051775 4.137410000000001 1.051775 4.612285 1.344665 4.905175000000001L5.0277 8.5882C5.564699999999999 9.125200000000003 6.435300000000001 9.125200000000003 6.9723 8.5882L10.655300000000002 4.905175000000001C10.9482 4.612285 10.9482 4.137410000000001 10.655300000000002 3.84452C10.362450000000003 3.5516249999999996 9.887549999999997 3.5516249999999996 9.594699999999998 3.84452L5.91165 7.527550000000001z'
                    fill='currentColor'
                  ></path>
                </svg>
              </Button>
            </div>
          </HoverCardTrigger>
          <HoverCardContent
            className={
              'bg-bg1_float border-line_regular relative rounded-[12px] p-1 shadow-[0_8px_40px_rgba(0,0,0,0.1)]'
            }
          >
            <div className={'rounded-[8px]'}>
              {[
                {
                  value: 'latest',
                  label: '最近添加',
                },
                {
                  value: 'first',
                  label: '最先添加',
                },
              ].map((item) => (
                <div
                  className={cn(
                    'text-text2 hover:bg-graph_bg_thick relative h-10 w-[90px] cursor-pointer rounded-[8px] text-center text-sm leading-10'
                  )}
                  key={item.value}
                  onClick={() => setSort(item.value as VideoGetWatchLaterSort)}
                >
                  <div
                    className={cn(
                      'text-text2 absolute inset-0 cursor-pointer rounded-[8px] text-center text-sm leading-10 opacity-100'
                    )}
                  ></div>
                  {item.label}
                </div>
              ))}
            </div>
          </HoverCardContent>
        </HoverCard>
        <Separator orientation={'vertical'} className={'bg-line_regular mx-4 h-3 w-[0.5px]'} />
        <div
          className={
            'text-graph_medium hover:text-brand_blue flex cursor-pointer items-center justify-center'
          }
        >
          <svg
            xmlns='http://www.w3.org/2000/svg'
            viewBox='0 0 24 24'
            width='24'
            height='24'
            className={'mr-2 size-6'}
          >
            <path
              d='M3.02134 15.21437C3.02134 13.79417 4.17261 12.64294 5.59277 12.64294L8.67849 12.64294C10.09869 12.64294 11.24991 13.79417 11.24991 15.21437L11.24991 18.30009C11.24991 19.7202 10.09869 20.87151 8.67849 20.87151L5.59277 20.87151C4.17261 20.87151 3.02134 19.7202 3.02134 18.30009L3.02134 15.21437zM5.59277 14.35723C5.11939 14.35723 4.73563 14.74097 4.73563 15.21437L4.73563 18.30009C4.73563 18.7734 5.11939 19.15723 5.59277 19.15723L8.67849 19.15723C9.15189 19.15723 9.53563 18.7734 9.53563 18.30009L9.53563 15.21437C9.53563 14.74097 9.15189 14.35723 8.67849 14.35723L5.59277 14.35723z'
              fill='currentColor'
            ></path>
            <path
              d='M3.02134 5.70002C3.02134 4.27986 4.17261 3.12859 5.59277 3.12859L8.67849 3.12859C10.09869 3.12859 11.24991 4.27986 11.24991 5.70002L11.24991 8.78571C11.24991 10.20591 10.09869 11.35714 8.67849 11.35714L5.59277 11.35714C4.17261 11.35714 3.02134 10.20591 3.02134 8.78571L3.02134 5.70002zM5.59277 4.84287C5.11939 4.84287 4.73563 5.22663 4.73563 5.70002L4.73563 8.78571C4.73563 9.25911 5.11939 9.64286 5.59277 9.64286L8.67849 9.64286C9.15189 9.64286 9.53563 9.25911 9.53563 8.78571L9.53563 5.70002C9.53563 5.22663 9.15189 4.84287 8.67849 4.84287L5.59277 4.84287z'
              fill='currentColor'
            ></path>
            <path
              d='M12.75 5.10859C12.75 4.63521 13.15937 4.25145 13.66431 4.25145L20.06426 4.25145C20.5692 4.25145 20.97857 4.63521 20.97857 5.10859C20.97857 5.58198 20.5692 5.96573 20.06426 5.96573L13.66431 5.96573C13.15937 5.96573 12.75 5.58198 12.75 5.10859z'
              fill='currentColor'
            ></path>
            <path
              d='M12.75 9.39429C12.75 8.92089 13.15937 8.53716 13.66431 8.53716L20.06426 8.53716C20.5692 8.53716 20.97857 8.92089 20.97857 9.39429C20.97857 9.86769 20.5692 10.25143 20.06426 10.25143L13.66431 10.25143C13.15937 10.25143 12.75 9.86769 12.75 9.39429z'
              fill='currentColor'
            ></path>
            <path
              d='M12.75 14.57143C12.75 14.09803 13.15937 13.71429 13.66431 13.71429L20.06426 13.71429C20.5692 13.71429 20.97857 14.09803 20.97857 14.57143C20.97857 15.04483 20.5692 15.42857 20.06426 15.42857L13.66431 15.42857C13.15937 15.42857 12.75 15.04483 12.75 14.57143z'
              fill='currentColor'
            ></path>
            <path
              d='M12.75 18.85714C12.75 18.38374 13.15937 18 13.66431 18L20.06426 18C20.5692 18 20.97857 18.38374 20.97857 18.85714C20.97857 19.33054 20.5692 19.71429 20.06426 19.71429L13.66431 19.71429C13.15937 19.71429 12.75 19.33054 12.75 18.85714z'
              fill='currentColor'
            ></path>
          </svg>
        </div>
      </div>
    </div>
  )
}

export default WatchLaterTitle
